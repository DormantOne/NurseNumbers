<!DOCTYPE html>
<html>
<head>
  <title>Select Nurses and Numbers</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCYDVebdIbJ7DV_tkqvl6dXacP2gd-V6zo",
  authDomain: "nurse-numbers.firebaseapp.com",
  databaseURL: "https://nurse-numbers-default-rtdb.firebaseio.com",
  projectId: "nurse-numbers",
  storageBucket: "nurse-numbers.appspot.com",
  messagingSenderId: "316071093036",
  appId: "1:316071093036:web:233a3bf23d007bb0a2c289",
  measurementId: "G-RW2RPJS2GC"
};


    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const dataRef = ref(db, '/selectedData');
    onValue(dataRef, (snapshot) => {
      const data = snapshot.val();
      if (data) {
        const selectedDataDiv = document.getElementById('selectedData');
        selectedDataDiv.innerHTML = `
          <p>Selected Nurses: ${data.selectedNurses.join(', ')}</p>
          <p>Selected Numbers: ${data.selectedNumbers.join(', ')}</p>
          <p>Timestamp: ${data.timestamp}</p>
        `;
      }
    });
  </script>
</head>
<body>
  <h2>Select Nurses and Numbers:</h2>
  <form id="selectionForm">
    <div id="nurseSelection"></div>
    <div id="numberSelection"></div>
    <button type="button" onclick="submitSelection()">Submit</button>
  </form>
  <h2>Selected Nurses and Numbers:</h2>
  <div id="selectedData"></div>
  <script>
    const nurses = ['Nurse 1', 'Nurse 2', 'Nurse 3', 'Nurse 4', 'Nurse 5', 'Nurse 6', 'Nurse 7', 'Nurse 8', 'Nurse 9', 'Nurse 10'];
    const nurseSelection = document.getElementById('nurseSelection');

    nurses.forEach((nurse, index) => {
      nurseSelection.innerHTML += `
        <div>
          <input type="checkbox" id="nurse${index}" name="nurse" value="${nurse}">
          <label for="nurse${index}">${nurse}</label>
        </div>
      `;
    });

    const numbers = ['123456789', '234567890', '345678901', '456789012', '567890123', '678901234'];
    const numberSelection = document.getElementById('numberSelection');

    numbers.forEach((number, index) => {
      numberSelection.innerHTML += `
        <div>
          <input type="checkbox" id="number${index}" name="number" value="${number}">
          <label for="number${index}">${number}</label>
        </div>
      `;
    });
  </script>
<script>
  window.submitSelection = function() {
    const selectedNurses = [];
    for (let i = 0; i < 10; i++) {
      const checkbox = document.getElementById('nurse' + i);
      if (checkbox.checked) {
        selectedNurses.push(checkbox.value);
      }
    }

    const selectedNumbers = [];
    for (let i = 0; i < 10; i++) {
      const checkbox = document.getElementById('number' + i);
      if (checkbox.checked) {
        selectedNumbers.push(checkbox.value);
      }
    }

    if (selectedNurses.length === 0 && selectedNumbers.length === 0) {
      alert('Please select at least one nurse or one number.');
      return;
    }

    const timestamp = new Date().toLocaleString();
    const data = {
      selectedNurses,
      selectedNumbers,
      timestamp
    };

    const dataRef = ref(db, '/selectedData');
    set(dataRef, data);
  }
</script>


</body>
</html>
