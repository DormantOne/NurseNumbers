<!DOCTYPE html>
<html>
<head>
  <title>Spreadsheet Data</title>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCYDVebdIbJ7DV_tkqvl6dXacP2gd-V6zo",
  authDomain: "nurse-numbers.firebaseapp.com",
  databaseURL: "https://nurse-numbers-default-rtdb.firebaseio.com",
  projectId: "nurse-numbers",
  storageBucket: "nurse-numbers.appspot.com",
  messagingSenderId: "316071093036",
  appId: "1:316071093036:web:233a3bf23d007bb0a2c289",
  measurementId: "G-RW2RPJS2GC"
};
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Function to submit data
    window.submitData = function() {
      const data = {};

      // Loop through each room
      for (let i = 1; i <= 4; i++) {
        const room = document.getElementById(`room${i}`).textContent;
        const nurse = document.getElementById(`nurse${i}`).value;
        const number = document.getElementById(`number${i}`).value;

        data[room] = {
          nurse,
          number,
          timestamp: new Date().toLocaleString()
        };
      }

      // Write data to Firebase
      push(ref(db, '/data'), data);
    }

    // Listen for new entries in Firebase
    onChildAdded(ref(db, '/data'), (snapshot) => {
      const data = snapshot.val();
      displayData(data);
    });
  </script>
</head>
<body>
  <h2>Enter Data</h2>
  <table>
    <thead>
      <tr>
        <th>Room</th>
        <th>Nurse</th>
        <th>Number</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td id="room1">4E Room 1</td>
        <td>
          <select id="nurse1">
            <option disabled selected>Select Nurse</option>
            ${generateOptions(nurses)}
          </select>
        </td>
        <td>
          <select id="number1">
            <option disabled selected>Select Number</option>
            ${generateOptions(numbers)}
          </select>
        </td>
      </tr>
      <tr>
        <td id="room2">4E Room 2</td>
        <td>
          <select id="nurse2">
            <option disabled selected>Select Nurse</option>
            ${generateOptions(nurses)}
          </select>
        </td>
        <td>
          <select id="number2">
            <option disabled selected>Select Number</option>
            ${generateOptions(numbers)}
          </select>
        </td>
      </tr>
      <!-- Add more rows for additional rooms -->
    </tbody>
  </table>

  <button onclick="submitData()">Submit</button>

  <script>
    const nurses = ['Jane Doe', 'John Smith', 'Emily Johnson', 'Michael Brown', 'Emma Davis', 'James Miller'];
    const numbers = ['123456789', '234567890', '345678901', '456789012', '567890123', '678901234'];

    function generateOptions(options) {
      return options.map(option => `<option>${option}</option>`).join('');
    }

    function displayData(data) {
      console.log('Data:', data);

      var dataContainer = document.getElementById('dataContainer');
      dataContainer.innerHTML = `
        <div>
          ${Object.entries(data).map(([room, entry]) => <p>${room}: ${entry.nurse} <a href="tel:${entry.number}">${entry.number}</a></p> ).join('')} </div> ` + dataContainer.innerHTML; } </script>
</body> </html>
